$(document).ready(function () {
    $("#command-line").focus();
    $('body').on("click", function () {
        $("#command-line").focus();
    });

    let functionsList = ["exit", "photo", "echo", "help", "cmp", "logi", "pi", "link"];
    $("#command-line").keyup(function (event) {
        if (event.key === "Enter") {
            const inputValue = this.value.trim();
            if (inputValue !== "") {
                document.getElementById('content-server').innerHTML +=
                    `<span class="color-green">heath@mateo:</span><span class="color-blue">~</span><span class="color-white">$</span> ${inputValue}<br>`;

                let fini = false;
                functionsList.forEach(func => {
                    let cmd = inputValue.substring(0, func.length);
                    if (cmd === func) {
                        fini = true;
                        return window[func](inputValue);
                    }
                });
                if (!fini) {
                    unknowCommand(inputValue);
                }
                this.value = "";
            }
        }
    });

    function unknowCommand(command) {
        document.getElementById('content-server').innerHTML += `command not found: ${command}<br>`;
    }
    function exit(command) {
        const contentServer = document.getElementById('content-server');
        const input = document.getElementById('command-line');
        contentServer.innerHTML += "<br><span class='color-red'>Thank you for taking the time to read this.</span><br>";
        input.disabled = true;
    }

    function pi(command) {
        const contentServer = document.getElementById('content-server');
        const message = `
<span class="color-cyan">About me</span><br><br>
My name is Mateo and I love learning, building and discovering new things. Curiosity drives me to constantly explore new areas and develop my skills, both technical and creative.<br><br>
I consider myself a largely self-taught person — when someone tells me that something seems impossible at first glance, I take it as a challenge. As long as it’s fun and I can learn something new, I’m not afraid to spend dozens, or even hundreds of hours working on it.<br><br>
In my spare time, I am interested in designing computer hardware—such as custom keyboards and mice—which I am learning to make myself. I am also passionate about professional music equipment, particularly complex gear such as a grandMA3.<br><br>
I also enjoy using 3D design software to create my own pieces for my projects, or to design stages for events such as the Beacon in Liège, Belgium.<br><br>
To this day, I have already taken part in several projects of varying scale and ambition:

<ul> <li>The 3D design of an international event to assess the feasibility of their stage layout;</li> <li>The creation of a 4K LED screen module that can be combined with others to form a larger display;</li> <li>The organization and setup of a concert where we invited artists discovered via SoundCloud.</li> </ul> Always motivated by the desire to understand and improve my surroundings, I seek to combine creativity, technical skills and continuous learning in everything I do.<br><br>
`;
        contentServer.innerHTML += message;
    }

    function link(command) {
    const contentServer = document.getElementById('content-server');
    const message = `
<span class="color-cyan">My links</span><br><br>
Github : <a href="https://github.com/Mateo79" target="_blank" class="color-white">https://github.com/Mateo79</a><br><br>
LinkedIn : <a href="https://www.linkedin.com/in/mateo-padoan-b21bb71bb/" target="_blank" class="color-white">https://www.linkedin.com/in/mateo-padoan-b21bb71bb/</a><br><br>
SoundCloud : <a href="https://soundcloud.com/heathclyff-hakihiko/sets/try" target="_blank" class="color-white">https://soundcloud.com/heathclyff-hakihiko/sets/try</a><br><br>
Email : <a href="mailto:mateo.padoan@gmail.com" class="color-white">mateo.padoan@gmail.com</a><br><br>
`;
    contentServer.innerHTML += message;
}

    function echo(command) {
        document.getElementById('content-server').innerHTML += command.slice(5) + "<br>";
    }

    function help(command) {
        const contentServer = document.getElementById('content-server');

        if (command.trim() === "help -h") {
            const detailedHelp = `
<span class="color-cyan">Command help:</span><br><br>

- <span class="color-yellow">help</span><br>
Displays all available commands.<br><br>

- <span class="color-yellow">exit</span><br>
Stop the ability to write in the terminal.<br><br>

- <span class="color-yellow">echo</span><br>
Same command as on Linux, displays the requested message (be mindful of the character limit).<br><br>

- <span class="color-yellow">photo</span><br>
Displays an ASCII picture of my head.<br><br>

- <span class="color-yellow">cmp</span><br>
Abbreviation for “skills”, this command displays the languages I am fluent in or partially fluent in.<br><br>

- <span class="color-yellow">logi</span><br>
Short for “software”, this command displays the software I am proficient in.<br><br>

- <span class="color-yellow">pi</span><br>
Abbreviation for personal information.<br><br>

- <span class="color-yellow">link</span><br>
Show my different networks: LinkedIn, Github, email, SoundCloud.<br><br>
`;          
            contentServer.innerHTML += detailedHelp;
        } else {
            contentServer.innerHTML += 
                "exit photo echo help cmp logi pi link<br>"
        }
    }


    function photo(command) {
        let asciiFace = `
......................................................................................................................................................
.....................................................................####.............................................................................
................................................................##***+++++*...........................................................................
.............................................................##*++=========+*#........................................................................
...........................................................#*==---===++++=---==*......................................................................
.........................................................#*=-----=+++***++==----+.....................................................................
.......................................................#*+=----=+++****+++===----+*...................................................................
......................................................*+======++********++=====---=+*.................................................................
.....................................................#+===+++****#####***+++++===---=*#...............................................................
.....................................................*+=+***############*****+*++==---+#..............................................................
.....................................................*+**##################*******+=---=*.............................................................
....................................................#+*#######################*****+=---=*............................................................
....................................................**#########################******+=--=*...........................................................
...................................................#*##########################*******+=--=*..........................................................
...................................................#*#########################*********+---=*.........................................................
..................................................#*##########################**********+---=#........................................................
..................................................#*##########################***********=--=*........................................................
.................................................#***#########################***********+---=........................................................
.................................................***##########################***********+=--=#.......................................................
................................................#***##########################***********+=---*.......................................................
................................................#***###########################**********+=---*.......................................................
................................................***###########################**********++=---+.......................................................
................................................***###########################*********++=----=.......................................................
................................................***####*#######################********++=----+.......................................................
................................................****+++++**###########*****####*******++==----=.......................................................
..............................................#*=====-==+++++*********++***+***********+==----+.......................................................
.............................................*+=-=---===*#*++*++**+++++*###=======+****+=-----+.......................................................
............................................#*+==+=====++**+=++++++++++*#*===-====-=***+=-----*.......................................................
............................................+*+++++========+=+***++++++++=====++++==+***=-----#.......................................................
...........................................#+**++=-=+========+##*+++++=====--==++++=+***=----=#.......................................................
..........................................#=+**+++=+++===+++=*##*+++++==+*=--====++=+***+---:=........................................................
............................................***++++*+++++++==*###++++++++++===+===+===+**+-::+........................................................
............................................#**+******++***=*####+=**++**+=++++++++=++**+--:-+........................................................
.............................................#****#*********#####*+*******++++++++++*****=--++#.......................................................
............................................#**######******#######*+*********************=-===+.......................................................
............................................***######******#######**+**###****####*******+-=+=+.......................................................
...........................................#****######**+**#######*+++*###########*******+-=++*.......................................................
...........................................*+************#########***++*#########********+--*+*.......................................................
..........................................#++***************####***##*++**#####**********+--++#.......................................................
..........................................*=+***********+=+++***+++++++++***************+=--*+#.......................................................
..........................................+=+***********+===++++=--===+*++*************++=-=**........................................................
.........................................*===***********+=--=====--==+**++************++==-=*#........................................................
........................................#+=-=***********+=---=+=---=+****++**********++==--=*.........................................................
........................................#+=-=+*******+++==-=++++==-==+****++********++==---=#.........................................................
........................................*=---++*****+==++===+++++====+++++++*******++==----+..........................................................
........................................+----=++****======================+******+++==-----+#.........................................................
........................................+==---=+***++++=+++++++++++=======+*****++===------*..........................................................
........................................+=----=+*******++++++++*+++++++++++****++===-------+..........................................................
........................................*=-----++********+++++++++++++********+====-------==#.........................................................
........................................*=-----=+*********+++=+++++***********+==----------+#.........................................................
........................................*------=+**********+===++************++=---------===*#........................................................
........................................#=------=++********+++++***********+++=-----------==*#........................................................
........................................#=------==+++***************#****++++==-------:-==++*#........................................................
.........................................+----:--===+++*****************++====-------::--=+*#.........................................................
.........................................*=-:::-----==+++++***+*****++++===-=-------::----+*#.........................................................
.........................................#+--::-------==++++++++++++======--------:::::--==#..........................................................
.........................................*+-:::---------=========+====----------:::::::-===#..........................................................
.........................................#+-:---------------==--==----------:--::::::::--=+#..........................................................
..........................................*=-----------------------------::::--::::::::---+##.........................................................
...........................................+-----------::::::::-----:--::::::::::::::----=+##.........................................................
...........................................#=-------:::::::::::::::-:::::::::::::::::----=*#..........................................................
............................................+------::::::::::::::::::::::::::::::::::----=*#..........................................................
............................................*-------:::::::::::::::::::::::::::::::-----=++****.......................................................
............................................#=----:--::::::::::::::::::::::::::::::----=++*****#......................................................
.............................................*---:--:::::::::::::::::::::::::::---:---=+++****##...#*####.............................................
.............................................#=--:--::--:::::::::::::::::::::::--:----++++***####.#********#..........................................
..........................................#..#+----::----:::::::::::::::::::-:--::---=+++***#######**********##.......................................
.........................................#####*==--::----:---:-:::::::::-:--------==+++++***#####*###***********#.....................................
........................................######*++=-::-=---------::::::---:-------=++++++***######*#..##***********#...................................
.......................................#######*+*+=-:-=---=----:::::----:-------=+++++****######..#...#*******##****##................................
................................#####.#########++*+=--==---=-------------------=+++++****##########.....******##.######...............................
.............................#*######..########*+**+=--=---=----------------==++++*******######..#***##.#*##*##**##......#............................
..........................##***####****###**####*+***+=-=-===---====---==-=++++++*******######.##**#**###*+#*##**..####...#...........................
........................####***####****+**#######+*****++++===-=======+=++++++++********############***####*###**##*###.....#.........................
......................#########*#####**+****#####*+********+++===+++++++++++***********####***######****##**##****########....#.......................
....................##########**********##**+#####*+**********++++++++***********+*****############****###*####*#***###****##.........................
..................###########*****+****#***++*#####*+*********************************#########.##********########***#*####**####.....................
.................##.##########**++**####**++++*#####*+******************************###*************#*+*###***####*#*******#***###....................
................##.##.########**++*######***++*######*+**************************#####**+******+#**#**#.#*#**##*******++*#**#######...................
..............##...#.....####**##**#####****##**######*++***********************#####*+******##**##**..**#**#********++**###########..................
..............#...........**#####*#######*###****#######**********************#####*#******###**..*#..#*##*#********+++**#####******#.................
............##............##.#**#*#######..#**#++**#######***************########**##*******#.##.##...##.*####*******#***######******#................
............##.....*....#.....****##........****#*#############*****############**###**#**####.#......*#.#####*##****##*#######******##...............
...........#.#.....*#..##...#*##*#.........#***#*##+*###########################*####*#***#.####......#.......**********###*##**#**+*#**..............
..........##.....#.#*..*#.#****#.......#####*++*##*+##**#######################*###.**.**#*.####..............#*###*******#***#****++***#.............
..........##.....##.*##*.#*+#**##########***##*+*##*##+*##########################..*#.*##*..#........##....##....#******######.#####***##............
.........##......**.*#**##***#...###......#**##*#*####+*######*+*#############......#..##.#..#.........*#...##....#*#**##.#########**###***#..........
.........#....#*.#*###*##***#**#######.....#*##**#####+*#####*++############.##...##...................**...##..#*+*#############*+****#****#.........
..............#*##**##**##****##..###*###...**#**#####**####*++#####*####.##.....##..................#.#*#.#*#.#**#***###########+*###******##........
..............#*##**######****####....##*##.#*#**#####**###***#####.**###.*#..##**##.................##.*#.#*###*##*######****##****++****###*#.......
.........####.#*##**###***+*##*####.....#***.*#*+#####+*###**####*###+*#.#*#.##**#**###.....#..##..##**.#*#**##****##########*+*****##*######+*#......
........#*.##.#******######**#.#***#######***#*#+#####+*##**##.#*###.**#.#*###**#*#....#....###*#..#*#*##*#*###*#****#########*+*++*#****####***..####
........*#.#*##*******#**#..#*#..###***********#*#####**.#**#.#*+***##**#**###*#*#######....#***###*##*####*###*****######*####*#*+**#####*####*#.####
......##***##+*******#*##**...##....#######******##*##+*#**###++*****#**#+*##***#**##.#*....#*******.#**###**###*******####*###*#*++##**#####**+*#####
.....*##**##*********#***.*#....##**********#######+##+##*##**+*##.*+*#*#+###******####**....******###**####*#***********##+*##*#*++##+*#*##**########
....#*##*****************##*...############****####+#*+.*#.#**+*#..*+*#*#***####***#####+*#.#*****##*#***##*****++*#*+*####++*#**++**#*#####*#########
....#*###*********+*****##.#..........###***********#*##*.#**++#**.*+*###***#****##***#.*++##*****##******#######***##*+++++=+#**+*#*#*##*##*#####+###
....##*##********+++****#..........#************###*#*.*##***+*..**#*****##*******###***##*+***++++**++*********###*+*###***+=***+***###*+#**#**##+###
....##*##*++++*****+****.........#*+**######.##***####.*#**#*+*###******+*########**#.#*****++++*#*+*********##*+####**####++=**++#**##*+*#***++*#####
...#**#****#*********##.........###..............#####.*#+*#+**********##*########*******++++++*.#*++*****#**+*#**########*+==+*++#**##*+#+**++**#####
        `;
        document.getElementById('content-server').innerHTML += `<pre>${asciiFace}</pre><br>`;
    }

    function logi(command) {
        const fichiers = [
            "github.txt",
            "git.txt",
            "blender.txt",
            "easyeda.txt",
            "ue5.txt",
            "fusion360.txt"
        ];

        const contentServer = document.getElementById('content-server');
        contentServer.innerHTML += `<br><span class="color-cyan">Here is the software I know how to use:</span><br><br>`;
        fichiers.forEach(fichier => {
            contentServer.innerHTML += `<span class="color-yellow">=== ${fichier} ===</span><br>`;

            fetch(fichier)
                .then(response => {
                    if (!response.ok) throw new Error(`Erreur HTTP ${response.status}`);
                    return response.text();
                })
                .then(texte => {
                    contentServer.innerHTML += `<pre>${texte}</pre><br>`;
                })
        });
    }

    function cmp(command) {
        const fichiers = [
            "Languages I am proficient in:",
            "c.txt",
            "c++.txt",
            "cobol.txt",
            "css.txt",
            "golang.txt",
            "html.txt",
            "js.txt",
            "lua.txt",
            "python.txt",
            "shell.txt"
        ];

        const contentServer = document.getElementById('content-server');
        fichiers.forEach(fichier => {
            contentServer.innerHTML += `<span class="color-yellow">=== ${fichier} ===</span><br>`;

            fetch(fichier)
                .then(response => {
                    if (!response.ok) throw new Error(`Erreur HTTP ${response.status}`);
                    return response.text();
                })
                .then(texte => {
                    contentServer.innerHTML += `<pre>${texte}</pre><br>`;
                });
        });
    }

    window.exit = exit;
    window.echo = echo;
    window.help = help;
    window.photo = photo;
    window.cmp = cmp;
    window.logi = logi;
    window.pi = pi;
    window.link = link;

});
